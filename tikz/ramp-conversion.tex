\begin{tikzpicture}[timing/unit=0.257cm]
 \begin{axis}[
   name=analog,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   width=\textwidth, height=0.4\textwidth,
   enlarge x limits=0,
   xlabel=\si{\us},
   ylabel=\si{\V},
   legend cell align={left},
   grid=both, minor grid style=dotted, minor y tick num = 5, minor x tick num=3,
   legend pos=north west,
  ]
  \addplot [thick, red] table[x=VinX, y=VinY, col sep=comma] {./data/m3_ramp.csv};
  \addlegendentry{Input signal};
  \addplot [thick, blue] table[x=SAR_out_analogX, y=SAR_out_analogY, col sep=comma] {./data/m3_ramp.csv};
  \addlegendentry{Output signal};
 \end{axis} 
 \begin{axis}[
   name=clk,
   anchor=north,
   at={($(analog.south)-(0,8ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel=CLK, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=clkX, y=clkY, col sep=comma] {./data/m3_matlab_clk.csv};
 \end{axis}
 \begin{axis}[
   name=out0,
   anchor=north,
   at={($(clk.south)-(0,1.5ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel={out[0]}, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=out0X, y=out0Y, col sep=comma] {./data/m3_ramp.csv};
 \end{axis}
 \begin{axis}[
   name=out1,
   anchor=north,
   at={($(out0.south)-(0,2ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel={out[1]}, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=out1X, y=out1Y, col sep=comma] {./data/m3_ramp.csv};
 \end{axis}
 \begin{axis}[
   name=out2,
   anchor=north,
   at={($(out1.south)-(0,2ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel={out[2]}, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=out2X, y=out2Y, col sep=comma] {./data/m3_ramp.csv};
 \end{axis}
 \begin{axis}[
   name=out3,
   anchor=north,
   at={($(out2.south)-(0,2ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel={out[3]}, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=out3X, y=out3Y, col sep=comma] {./data/m3_ramp.csv};
 \end{axis}
 \begin{axis}[
   name=out4,
   anchor=north,
   at={($(out3.south)-(0,2ex)$)},
   width=\textwidth, height=0.17\textwidth,
   x filter/.code={\pgfmathdivide{#1}{1e-6}},
   enlarge x limits=0,
   axis line style={draw=none},
   tick style={draw=none}, ytick=\empty, xtick=\empty,
   ylabel={out[4]}, ylabel style={rotate=-90},
  ]
  \addplot [thick] table[x=out4X, y=out4Y, col sep=comma] {./data/m3_ramp.csv};
 \end{axis}
 \draw (out4.south west) ++ (0,-4ex) coordinate (en);
 \timing at (en) {D{00}D{01}D{02}D{03}D{04}D{05}D{06}D{07}D{08}D{09}D{10}D{11}D{12}D{13}D{14}D{15}D{16}D{17}D{18}D{19}D{20}D{21}D{22}D{23}D{24}D{25}D{26}D{16}D{27}D{28}D{29}D{30}4D{31}};
 \draw (en) ++ (0,0.8ex)node[left] {out[4:0]};
\end{tikzpicture}
